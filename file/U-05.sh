#!/bin/bash

echo "=========================="
echo "U-05 (상)"
echo "점검 사항: PATH 환경 변수에 현재 디렉토리(.) 포함 여부 점검"
echo "=========================="

# 점검 결과 변수 초기화
result="양호"
reason="PATH 환경 변수에 현재 디렉토리 (.)가 포함되어 있지 않습니다."

# PATH 환경 변수 확인
current_path=$(echo $PATH)

# . 포함 여부 확인
dot_in_path=$(echo $current_path | grep -E '(^\.|:\.:|:/\.)')

# . 포함 여부 진단
if [ -n "$dot_in_path" ]; then
    result="취약"
    reason="PATH 환경 변수에 현재 디렉토리 (.)가 포함되어 있습니다."
else
    result="양호"
    reason="PATH 환경 변수에 현재 디렉토리 (.)가 포함되어 있지 않습니다."
fi

# 점검 결과 출력
echo "=== 점검 결과: $result ==="
echo "이유: $reason"

exit 0
